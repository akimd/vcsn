# Test cases independant of the weightsets.        -*- shell-script -*-

%labels: letters
%include: common.rat
%identities: trivial
# Base cases.
ab => ab
# Error cases.
x ! 1.1: letterset<char_letters(abcdefgh)>: conv: invalid label: unexpected x

# Precedence and associativity.
%identities: associative
(ab)* => (ab)*
abc => abc
a(bc) == a.b.c
(abc).(cba) => abccba


%labels: words
%include: common.rat
%identities: trivial
# Base cases.
ab => ab
# Error cases.
x ! 1.1: char_letters(abcdefgh): invalid letter: x
axb ! 1.2: char_letters(abcdefgh): invalid letter: x

# Precedence and associativity.
%identities: associative
(ab)* => (ab)*
abc => abc
a(bc) => a(bc)
ab(ab) => (ab)(ab)
(ab)ab => (ab)(ab)
ab(ab)ab => (ab)(ab)(ab)
ab(ab)abc*  => (ab)(ab)(ab)c*
(abc).(cba) => (abc)(cba)

# Power is about mul, not concat.
(ab){2} => (ab)(ab)
(ab){3} => (ab)(ab)(ab)
(ab){,2} => \e+ab+(ab)(ab)
(ab){1,2} => (ab)(\e+ab)
(ab){2,} => (ab)(ab)(ab)*
