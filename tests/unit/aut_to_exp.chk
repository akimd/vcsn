#! /bin/sh

# check EXP-OUT PPRAT-ARGUMENTS
# -----------------------------
check ()
{
  echo "$1" >out.exp
  run 0 out.exp rat/pprat -s "$@"
}

fail ()
{
  run 1 '' rat/pprat -s "$@"
}

check 'a' 'a'
check 'a.b' 'ab'
check '\e+(a.(a*))' 'a*'
check 'a+b' 'a+b'
check '({2}a.b){3}' -W z -L l -a '{2}(ab){3}'
check '{6}ab'       -W z -L w -a '{2}(ab){3}'


check '(({6}a.{7}c)+({10}b.{7}c)){11}' \
      -W z -a '{2}({3}a+{5}b){7}c{11}'
