#! /bin/sh

cat >out.exp <<\EOF
Check idempotence for Thompson 'a'
States: 2 -> 3
digraph
{
  rankdir=LR
  node [shape=circle]
  {
    node [style=invis,shape=none,label="",width=0,height=0]
    I1
    F2
  }
  I1 -> 1
  2 -> F2
  1 -> 2 [label="a"]
  1 -> 3 [label="b"]
  3 -> 3 [label="a + b"]
  2 -> 3 [label="a + b"]
}
Check idempotence for '\e'
States: 1 -> 2
digraph
{
  rankdir=LR
  node [shape=circle]
  {
    node [style=invis,shape=none,label="",width=0,height=0]
    I1
    F1
  }
  1 -> F1
  I1 -> 1
  1 -> 2 [label="a + b"]
  2 -> 2 [label="a + b"]
}
Check idempotence for empty
States: 0 -> 1
digraph
{
  rankdir=LR
  node [shape=circle]
  {
    node [style=invis,shape=none,label="",width=0,height=0]
    I1
  }
  I1 -> 1
  1 -> 1 [label="a + b"]
}
Check idempotence for de Bruijn 3
States: 5 -> 16
digraph
{
  rankdir=LR
  node [shape=circle]
  {
    node [style=invis,shape=none,label="",width=0,height=0]
    I1
    F7
    F8
    F9
    F10
    F13
    F14
    F15
    F16
  }
  I1 -> 1
  1 -> 2 [label="a"]
  1 -> 1 [label="b"]
  2 -> 3 [label="a"]
  2 -> 4 [label="b"]
  4 -> 5 [label="a"]
  4 -> 6 [label="b"]
  7 -> F7
  6 -> 7 [label="a"]
  8 -> F8
  6 -> 8 [label="b"]
  8 -> 2 [label="a"]
  8 -> 1 [label="b"]
  7 -> 3 [label="a"]
  7 -> 4 [label="b"]
  9 -> F9
  5 -> 9 [label="a"]
  10 -> F10
  5 -> 10 [label="b"]
  10 -> 5 [label="a"]
  10 -> 6 [label="b"]
  9 -> 11 [label="a"]
  9 -> 12 [label="b"]
  13 -> F13
  12 -> 13 [label="a"]
  14 -> F14
  12 -> 14 [label="b"]
  14 -> 7 [label="a"]
  14 -> 8 [label="b"]
  13 -> 9 [label="a"]
  13 -> 10 [label="b"]
  15 -> F15
  11 -> 15 [label="a"]
  16 -> F16
  11 -> 16 [label="b"]
  16 -> 13 [label="a"]
  16 -> 14 [label="b"]
  15 -> 15 [label="a"]
  15 -> 16 [label="b"]
  3 -> 11 [label="a"]
  3 -> 12 [label="b"]
}
Check idempotence for de Bruijn 8
States: 10 -> 512
Check idempotence for ladybird 4
States: 4 -> 16
digraph
{
  rankdir=LR
  node [shape=circle]
  {
    node [style=invis,shape=none,label="",width=0,height=0]
    I1
    F1
    F5
    F8
    F10
    F11
    F12
    F14
    F15
  }
  1 -> F1
  I1 -> 1
  1 -> 2 [label="a"]
  1 -> 3 [label="b + c"]
  3 -> 3 [label="a + b + c"]
  2 -> 4 [label="a"]
  2 -> 2 [label="b"]
  5 -> F5
  2 -> 5 [label="c"]
  5 -> 6 [label="a"]
  5 -> 2 [label="b"]
  5 -> 5 [label="c"]
  6 -> 7 [label="a"]
  6 -> 6 [label="b"]
  8 -> F8
  6 -> 8 [label="c"]
  8 -> 9 [label="a"]
  8 -> 6 [label="b"]
  8 -> 8 [label="c"]
  10 -> F10
  9 -> 10 [label="a"]
  9 -> 9 [label="b"]
  11 -> F11
  9 -> 11 [label="c"]
  11 -> 11 [label="a + c"]
  11 -> 9 [label="b"]
  12 -> F12
  10 -> 12 [label="a"]
  10 -> 7 [label="b"]
  10 -> 10 [label="c"]
  12 -> 8 [label="a"]
  12 -> 13 [label="b"]
  12 -> 12 [label="c"]
  14 -> F14
  13 -> 14 [label="a"]
  13 -> 13 [label="b"]
  13 -> 12 [label="c"]
  14 -> 13 [label="a"]
  14 -> 4 [label="b"]
  14 -> 14 [label="c"]
  15 -> F15
  7 -> 15 [label="a"]
  7 -> 7 [label="b"]
  7 -> 10 [label="c"]
  15 -> 5 [label="a"]
  15 -> 16 [label="b"]
  15 -> 15 [label="c"]
  16 -> 1 [label="a"]
  16 -> 16 [label="b"]
  16 -> 15 [label="c"]
  4 -> 16 [label="a"]
  4 -> 4 [label="b"]
  4 -> 14 [label="c"]
}
Check idempotence for ladybird 8
States: 8 -> 256
EOF
run 0 out.exp unit/determinize
