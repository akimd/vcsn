#! /bin/sh

# check OUTPUT ARGS...
check ()
{
    out=$1
    shift
    run 0 "$(cat $medir/$out)" -vcsn score-compare --no-git "$@"
}

a=$medir/v2.0-0001-g6bfe026
b=$medir/v2.0-0423-g841c067
c=$medir/v2.0-1255-gafaf339
d=$medir/v2.1-0010-gd55ef26

check all.out --all -c never $a $b $c $d
if (vcsn python -c 'import colorama') 2>/dev/null; then
    check default.out  -c always $a $b $c $d
    check shortest.out -c always --only shortest -t 2 $a $b $c $d
fi

check csv.out   --all -c never --output-format csv   $a $b $c $d
check latex.out --all -c never --output-format latex $a $b $c $d
