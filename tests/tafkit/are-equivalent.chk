#! /bin/sh

# check EXPECTED RAT1 RAT2
# ------------------------
# Check that are-equivalent(RAT1, RAT2) == EXPECTED.
check ()
{
  case $1 in
    (true)  run 0 "$1" -vcsn are-equivalent -E -e "$2" "$3";;
    (false) run 2 "$1" -vcsn are-equivalent -E -e "$2" "$3";;
  esac
}

check true '\z' '\z'
check true '\e' '\e'
check true 'a' 'a'
check true 'ab' 'a.b'
check true 'a*' '\e+(a.(a*))'
check true 'a+b' 'b+a'
check true 'a*+a*+(\e+aa*)' 'a*'

check false '\z' '\e'
check false 'a' 'b'
check false 'ab' 'ba'
check false 'aa*' 'a*'
