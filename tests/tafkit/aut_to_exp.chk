#! /bin/sh

# check EXP-IN EXP-OUT
# --------------------
# Check that aut-to-exp(standard(EXP-IN)) = EXP-OUT.
check ()
{
  run 0 stdout -vcsn-standard -e "$1" -o std.gv
  run 0 "$2" -vcsn-aut-to-exp -Af std.gv
}

check 'a'                            'a'
check 'ab'                           'a.b'
check 'a*'                           '\e+(a.(a*))'
check 'a+b'                          'a+b'
check '(?@lal_char(ab)_z)<2>(ab)<3>' '(<2>a.b)<3>'
check '(?@law_char(ab)_z)<2>(ab)<3>' '<6>ab'


check '(?@lal_char(abc)_z)<2>(<3>a+<5>b)<7>c<11>' \
      '((<6>a.<7>c)+(<10>b.<7>c))<11>'
