#! /bin/sh

pyexecdir='@PYEXECDIR@'

PYTHONPATH=$pyexecdir:$PYTHONPATH
export PYTHONPATH

help ()
{
  cat <<EOF
usage: vcsn COMMAND ARGS...

COMMAND can be:

  accessible equivalent exp cat chain coaccessible complement complete
  concatenate term bruijn derivation term determinize difference
  divkbaseb ring state enumerate evaluate expand infiltration
  ambiguous complete deterministic empty acyclic normalized proper
  standard trim useless valid ladybird mult lift minimize power
  product proper random mult shortest shuffle split standard form star
  sum thompson transpose trim u union universal

For more information, run:

  $ vcsn COMMAND -h

For instance:

  $ vcsn derived-term -C 'lal_char(abc)_b' -e '(a+b+a)*' |
     vcsn determinize |
     vcsn minimize |
     vcsn aut-to-exp
EOF
  exit 0
}

version ()
{
cat <<EOF
vcsn (@PACKAGE_STRING@)
<@PACKAGE_URL@>
EOF
  exit 0
}

case $1 in
  ('') ;; # We are sourced to set up the environment.
  (-e) shift 1; exec "$@";;
  (-h|--help) help;;
  (-v|--version) version;;

  (accessible|are-equivalent|are-isomorphic     \
      |aut-to-exp                               \
      |cat|chain|coaccessible|complement|complete\
      |derivation|derived-term|determinize|difference           \
      |is-ambiguous|is-complete|is-deterministic\
      |is-empty|is-eps-acyclic|is-normalized|is-proper\
      |is-standard|is-trim|is-useless|is-valid \
      |power)
     cmd=$(echo "$1" | sed -e 's/-/_/g')
     shift
     exec "vcsn-tafkit" "$cmd" "$@";;
  (*)
     prog="vcsn-$1"; shift; exec "$prog" "$@";;
esac

# Local Variables:
# mode: shell-script
# End:
