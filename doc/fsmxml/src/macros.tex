%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%% \section{Twocolumns macros}%%% colonne + figure %%%%%%%%
%%% variables
\newlength{\ColoText}% largeur de la colonne "de texte"
\newlength{\ColoFigu}% largeur de la colonne "de figure"
\newlength{\TextFiguSpace}% intervalle entre les deux colonnes
\newlength{\parindenttemp} % for indentation in minipage
\newlength{\parskiptemp} % for alinea spacing in minioage
\newlength{\fboxseptemp} % pour memoriser \fboxsep
\newcommand{\TFBoxing}{}
\newcommand{\TFVertAlig}{}
% values
\setlength{\fboxseptemp}{\fboxsep}% parce qu'on va l'annuler en draft
\setlength{\parindenttemp}{\parindent}
\setlength{\parskiptemp}{\parskip}
\setlength{\TextFiguSpace}{1.2em}% intervalle entre les deux colonnes
% \ifdraft\renewcommand{\TFBoxing}{\fbox}\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% 3 paramèes
%%% 1) largeur de la colonne de gauche, en % de \textwidth
%%%    valeur implicite : 2/3
%%% 2) texte de la colonne de gauche
%%% 3) texte de la colonne de droite (souvent une figure)
%%% Boites aligné sur le haut,
%%%        encadré en mode draft
\newcommand{\TxtFg}[3]%
{%
  \setlength{\ColoText}{#1\textwidth}%
    \setlength{\ColoFigu}{\textwidth}%
    \addtolength{\ColoFigu}{-\ColoText}%
    \addtolength{\ColoText}{-.5\TextFiguSpace}%
    \addtolength{\ColoFigu}{-.5\TextFiguSpace}%
    \ifdraft\setlength{\fboxsep}{0pt}\fi% % mod 000912, 050822
    %
    \noi
    \TFBoxing{%
      \begin{minipage}[\TFVertAlig]{\ColoText}%
	%           \RstBLS% 050822
	\setlength{\parindent}{\parindenttemp}%
	\setlength{\parskip}{\parskiptemp}%
	\par\vspace*{0mm}% pour l'alignement sur le haut
#2
	\end{minipage}%
    }%
  \hspace*{\TextFiguSpace}%
    \TFBoxing{%
      \begin{minipage}[\TFVertAlig]{\ColoFigu}%
	\par\vspace*{0mm}%
#3%
	\end{minipage}%
    }%
  %
    %     \ifdraft\setlength{\fboxsep}{\fboxseptemp}\fi%050822
}%
%%%
\newcommand{\TextFigu}[3][.66]%
{\renewcommand{\TFVertAlig}{t}\TxtFg{#1}{#2}{#3}}
\newcommand{\TextFiguC}[3][.66]%
{\renewcommand{\TFVertAlig}{c}\TxtFg{#1}{#2}{#3}}
%%%%%%%%% Figures vers l'exterieur avec dérdement
%%% ie la colonne "de droite" est du cotée la marge
\newcommand{\TextFiguX}[3][.66]
{%
  \setlength{\ColoText}{#1\textwidth}%
    \setlength{\ColoFigu}{\textwidth}%
    \addtolength{\ColoFigu}{-\ColoText}%
    \addtolength{\ColoText}{-.5\TextFiguSpace}%
    \addtolength{\ColoFigu}{-.5\TextFiguSpace}%
    \addtolength{\ColoFigu}{\ETAExtendedLineWidth}% mod 000912,050822
    \ifdraft\setlength{\fboxsep}{0pt}\fi% % mod 000912, 050822
    %
    \noi
    \ifodd\value{page}%
    \TFBoxing{%
      \begin{minipage}[t]{\ColoText}%
	%              \RstBLS% 050822
	\setlength{\parindent}{\parindenttemp}%
	\setlength{\parskip}{\parskiptemp}%
	\par\vspace*{0mm}% pour l'alignement sur le haut
#2
	\end{minipage}%
    }%
  \hspace*{\TextFiguSpace}%
    \TFBoxing{%
      \begin{minipage}[t]{\ColoFigu}%
	\par\vspace*{0mm}%
#3%
	\end{minipage}%
    }%
  \else
    \hspace*{-\ETAExtendedLineWidth}% mod 000912
    \TFBoxing{%
      \begin{minipage}[t]{\ColoFigu}%
	\par\vspace*{0mm}%
#3%
	\end{minipage}%
    }%
  \hspace*{\TextFiguSpace}%
    \TFBoxing{%
      \begin{minipage}[t]{\ColoText}%
	%              \RstBLS% 050822
	\setlength{\parindent}{\parindenttemp}%
	\setlength{\parskip}{\parskiptemp}%
	\par\vspace*{0mm}% pour l'alignement sur le haut
#2
	\end{minipage}%
    }%
  \fi%
    %     \ifdraft\setlength{\fboxsep}{\fboxseptemp}\fi%050822
}
